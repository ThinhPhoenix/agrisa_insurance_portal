import dayjs from "dayjs";

/**
 * Policy Templates Constants
 *
 * Extracted from PolicyTemplateSelector.jsx for better performance
 * Templates are initialized once and reused across component renders
 */

// Helper function to generate dynamic dates
const getDynamicDates = () => ({
  enrollmentStartDay: dayjs().subtract(5, "day"),
  enrollmentEndDay: dayjs().add(25, "day"),
  insuranceValidFrom: dayjs(),
  insuranceValidTo: dayjs().add(120, "day"),
});

export const POLICY_TEMPLATES = [
  {
    id: "rice_ndvi_basic",
    name: "B·∫£o Hi·ªÉm L√∫a - Gi√°m S√°t S·ª©c Kh·ªèe C√¢y (NDVI)",
    category: "L√∫a (Rice)",
    description:
      "G√≥i b·∫£o hi·ªÉm s·ª≠ d·ª•ng ch·ªâ s·ªë NDVI t·ª´ v·ªá tinh ƒë·ªÉ gi√°m s√°t s·ª©c kh·ªèe c√¢y l√∫a. Ph√°t hi·ªán s·ªõm khi c√¢y b·ªã stress ho·∫∑c b·ªánh h·∫°i.",
    icon: "üåæ",
    difficulty: "D·ªÖ",
    recommended: true,
    basicData: {
      productName: "B·∫£o Hi·ªÉm L√∫a Gi√°m S√°t NDVI",
      productCode: "RICE_NDVI_BASIC_2025",
      productDescription:
        "B·∫£o hi·ªÉm ti√™n ti·∫øn s·ª≠ d·ª•ng ch·ªâ s·ªë th·ª±c v·∫≠t NDVI t·ª´ ·∫£nh v·ªá tinh ƒë·ªÉ gi√°m s√°t s·ª©c kh·ªèe c√¢y l√∫a. Chi tr·∫£ t·ª± ƒë·ªông khi ph√°t hi·ªán s·ª± suy gi·∫£m ƒë√°ng k·ªÉ c·ªßa NDVI, b√°o hi·ªáu c√¢y b·ªã stress, b·ªánh h·∫°i ho·∫∑c thi·∫øu dinh d∆∞·ª°ng.",
      cropType: "rice",
      coverageCurrency: "VND",
      coverageDurationDays: 120,
      isPerHectare: true,
      premiumBaseRate: 0.05,
      fixPremiumAmount: 1500000,
      maxPremiumPaymentProlong: 30,
      cancelPremiumRate: 0.8,
      isPayoutPerHectare: true,
      payoutBaseRate: 0.75,
      fixPayoutAmount: 5000000,
      payoutCap: 10000000,
      overThresholdMultiplier: 1.2,
      enrollmentStartDay: dayjs().subtract(5, "day"),
      enrollmentEndDay: dayjs().add(25, "day"),
      insuranceValidFrom: dayjs(),
      insuranceValidTo: dayjs().add(120, "day"),
      autoRenewal: false,
      renewalDiscountRate: 0,
      basePolicyInvalidDate: null,
      status: "draft",
      documentValidationStatus: "pending",
      importantAdditionalInformation: "",
    },
    configurationData: {
      logicalOperator: "OR",
      monitorInterval: 1,
      monitorFrequencyUnit: "hour",
      growthStage: "Giai ƒëo·∫°n sinh tr∆∞·ªüng th√¢n l√°",
      blackoutPeriods: {
        periods: [
          {
            start: "01-01",
            end: "01-14",
            reason: "Giai ƒëo·∫°n gieo h·∫°t - NDVI ch∆∞a ·ªïn ƒë·ªãnh",
          },
        ],
      },
      conditions: [
        {
          dataSourceKey: "ndvi",
          parameterName: "ndvi",
          thresholdOperator: "<",
          thresholdValue: 0.3,
          aggregationFunction: "avg",
          aggregationWindowDays: 7,
          dataQuality: "good",
          conditionOrder: 1,
        },
        {
          dataSourceKey: "ndvi",
          parameterName: "ndvi",
          thresholdOperator: "<=",
          thresholdValue: 0.5,
          aggregationFunction: "min",
          aggregationWindowDays: 7,
          dataQuality: "good",
          conditionOrder: 2,
        },
      ],
    },
    requiredDataSources: [
      {
        parameterName: "ndvi",
        categoryName: "Satellite",
        tierName: "N√¢ng cao",
        usage: "ƒêo l∆∞·ªùng s·ª©c kh·ªèe c√¢y qua ch·ªâ s·ªë th·ª±c v·∫≠t",
      },
    ],
    estimatedCost: "300,000 ‚Ç´/th√°ng",
    benefits: [
      "Ph√°t hi·ªán s·ªõm t√¨nh tr·∫°ng c√¢y b·ªã stress",
      "C√¥ng ngh·ªá v·ªá tinh ti√™n ti·∫øn",
      "Chi tr·∫£ t·ª± ƒë·ªông, kh√¥ng c·∫ßn ki·ªÉm tra hi·ªán tr∆∞·ªùng",
      "Theo d√µi xu h∆∞·ªõng d√†i h·∫°n",
    ],
  },
  {
    id: "rice_ndmi_drought",
    name: "B·∫£o Hi·ªÉm L√∫a - Ch·ªëng H·∫°n H√°n (NDMI)",
    category: "L√∫a (Rice)",
    description:
      "G√≥i b·∫£o hi·ªÉm s·ª≠ d·ª•ng ch·ªâ s·ªë NDMI t·ª´ v·ªá tinh ƒë·ªÉ ph√°t hi·ªán thi·∫øu n∆∞·ªõc. Ph√π h·ª£p cho m√πa kh√¥.",
    icon: "üåæ",
    difficulty: "D·ªÖ",
    recommended: true,
    basicData: {
      productName: "B·∫£o Hi·ªÉm L√∫a Ch·ªëng H·∫°n NDMI",
      productCode: "RICE_NDMI_DROUGHT_2025",
      productDescription:
        "B·∫£o hi·ªÉm ch·ªëng h·∫°n h√°n cho c√¢y l√∫a s·ª≠ d·ª•ng ch·ªâ s·ªë NDMI (Normalized Difference Moisture Index) ƒë·ªÉ ƒë√°nh gi√° h√†m l∆∞·ª£ng n∆∞·ªõc trong th·∫£m th·ª±c v·∫≠t. Chi tr·∫£ t·ª± ƒë·ªông khi ph√°t hi·ªán t√¨nh tr·∫°ng thi·∫øu n∆∞·ªõc nghi√™m tr·ªçng.",
      cropType: "rice",
      coverageCurrency: "VND",
      coverageDurationDays: 120,
      isPerHectare: true,
      premiumBaseRate: 0.06,
      fixPremiumAmount: 1800000,
      maxPremiumPaymentProlong: 30,
      cancelPremiumRate: 0.8,
      isPayoutPerHectare: true,
      payoutBaseRate: 0.8,
      fixPayoutAmount: 6000000,
      payoutCap: 12000000,
      overThresholdMultiplier: 1.3,
      enrollmentStartDay: dayjs().subtract(3, "day"),
      enrollmentEndDay: dayjs().add(27, "day"),
      insuranceValidFrom: dayjs().add(10, "day"),
      insuranceValidTo: dayjs().add(130, "day"),
      autoRenewal: false,
      renewalDiscountRate: 0,
      basePolicyInvalidDate: null,
      status: "draft",
      documentValidationStatus: "pending",
      importantAdditionalInformation: "",
    },
    configurationData: {
      logicalOperator: "OR",
      monitorInterval: 3,
      monitorFrequencyUnit: "hour",
      growthStage: "Giai ƒëo·∫°n ph√°t tri·ªÉn th√¢n l√° v√† tr·ªï b√¥ng",
      blackoutPeriods: {
        periods: [
          {
            start: "01-01",
            end: "01-10",
            reason: "Giai ƒëo·∫°n gieo h·∫°t - ch∆∞a c·∫ßn b·∫£o hi·ªÉm",
          },
        ],
      },
      conditions: [
        {
          dataSourceKey: "ndmi",
          parameterName: "ndmi",
          thresholdOperator: "<",
          thresholdValue: -0.2,
          aggregationFunction: "avg",
          aggregationWindowDays: 14,
          dataQuality: "good",
          conditionOrder: 1,
        },
        {
          dataSourceKey: "ndmi",
          parameterName: "ndmi",
          thresholdOperator: "<=",
          thresholdValue: -0.1,
          aggregationFunction: "min",
          aggregationWindowDays: 14,
          dataQuality: "acceptable",
          conditionOrder: 2,
        },
      ],
    },
    requiredDataSources: [
      {
        parameterName: "ndmi",
        categoryName: "Satellite",
        tierName: "N√¢ng cao",
        usage: "ƒê√°nh gi√° h√†m l∆∞·ª£ng n∆∞·ªõc trong th·ª±c v·∫≠t ƒë·ªÉ ph√°t hi·ªán h·∫°n h√°n",
      },
    ],
    estimatedCost: "350,000 ‚Ç´/th√°ng",
    benefits: [
      "Ph√°t hi·ªán s·ªõm t√¨nh tr·∫°ng thi·∫øu n∆∞·ªõc",
      "Ph√π h·ª£p cho m√πa kh√¥",
      "Chi tr·∫£ t·ª± ƒë·ªông d·ª±a tr√™n d·ªØ li·ªáu v·ªá tinh",
      "Qu·∫£n l√Ω t∆∞·ªõi ti√™u hi·ªáu qu·∫£",
    ],
  },
  {
    id: "rice_ndvi_ndmi_premium",
    name: "B·∫£o Hi·ªÉm L√∫a - To√†n Di·ªán (NDVI + NDMI)",
    category: "L√∫a (Rice)",
    description:
      "G√≥i b·∫£o hi·ªÉm cao c·∫•p k·∫øt h·ª£p NDVI v√† NDMI ƒë·ªÉ gi√°m s√°t to√†n di·ªán s·ª©c kh·ªèe c√¢y v√† t√¨nh tr·∫°ng n∆∞·ªõc. B·∫£o v·ªá t·ªëi ∆∞u.",
    icon: "üåæ",
    difficulty: "Trung b√¨nh",
    recommended: true,
    basicData: {
      productName: "B·∫£o Hi·ªÉm L√∫a To√†n Di·ªán NDVI+NDMI",
      productCode: "RICE_COMPREHENSIVE_2025",
      productDescription:
        "B·∫£o hi·ªÉm to√†n di·ªán cho c√¢y l√∫a k·∫øt h·ª£p c·∫£ ch·ªâ s·ªë NDVI (s·ª©c kh·ªèe c√¢y) v√† NDMI (h√†m l∆∞·ª£ng n∆∞·ªõc). B·∫£o v·ªá c√¢y l√∫a kh·ªèi c·∫£ b·ªánh h·∫°i l·∫´n h·∫°n h√°n. Chi tr·∫£ t·ª± ƒë·ªông khi m·ªôt trong hai ch·ªâ s·ªë v∆∞·ª£t ng∆∞·ª°ng c·∫£nh b√°o.",
      cropType: "rice",
      coverageCurrency: "VND",
      coverageDurationDays: 150,
      isPerHectare: true,
      premiumBaseRate: 0.08,
      fixPremiumAmount: 2200000,
      maxPremiumPaymentProlong: 45,
      cancelPremiumRate: 0.7,
      isPayoutPerHectare: true,
      payoutBaseRate: 0.85,
      fixPayoutAmount: 7500000,
      payoutCap: 15000000,
      overThresholdMultiplier: 1.5,
      enrollmentStartDay: dayjs().subtract(7, "day"),
      enrollmentEndDay: dayjs().add(23, "day"),
      insuranceValidFrom: dayjs(),
      insuranceValidTo: dayjs().add(150, "day"),
      autoRenewal: true,
      renewalDiscountRate: 0.1,
      basePolicyInvalidDate: null,
      status: "draft",
      documentValidationStatus: "pending",
      importantAdditionalInformation: "",
    },
    configurationData: {
      logicalOperator: "OR",
      monitorInterval: 3,
      monitorFrequencyUnit: "hour",
      growthStage: "To√†n b·ªô chu k·ª≥ sinh tr∆∞·ªüng",
      blackoutPeriods: {
        periods: [],
      },
      conditions: [
        {
          dataSourceKey: "ndvi",
          parameterName: "ndvi",
          thresholdOperator: "<",
          thresholdValue: 0.3,
          aggregationFunction: "avg",
          aggregationWindowDays: 7,
          dataQuality: "good",
          conditionOrder: 1,
        },
        {
          dataSourceKey: "ndvi",
          parameterName: "ndvi",
          thresholdOperator: "<=",
          thresholdValue: 0.4,
          aggregationFunction: "min",
          aggregationWindowDays: 7,
          dataQuality: "good",
          conditionOrder: 2,
        },
        {
          dataSourceKey: "ndmi",
          parameterName: "ndmi",
          thresholdOperator: "<",
          thresholdValue: -0.2,
          aggregationFunction: "avg",
          aggregationWindowDays: 14,
          dataQuality: "good",
          conditionOrder: 3,
        },
        {
          dataSourceKey: "ndmi",
          parameterName: "ndmi",
          thresholdOperator: ">",
          thresholdValue: -0.5,
          aggregationFunction: "min",
          aggregationWindowDays: 14,
          dataQuality: "acceptable",
          conditionOrder: 4,
        },
      ],
    },
    requiredDataSources: [
      {
        parameterName: "ndvi",
        categoryName: "Satellite",
        tierName: "N√¢ng cao",
        usage: "Gi√°m s√°t s·ª©c kh·ªèe v√† sinh kh·ªëi c√¢y",
      },
      {
        parameterName: "ndmi",
        categoryName: "Satellite",
        tierName: "N√¢ng cao",
        usage: "Gi√°m s√°t h√†m l∆∞·ª£ng n∆∞·ªõc trong c√¢y",
      },
    ],
    estimatedCost: "600,000 ‚Ç´/th√°ng",
    benefits: [
      "B·∫£o v·ªá to√†n di·ªán c·∫£ s·ª©c kh·ªèe v√† n∆∞·ªõc",
      "K·∫øt h·ª£p 2 ch·ªâ s·ªë v·ªá tinh ti√™n ti·∫øn",
      "Chi tr·∫£ cao h∆°n khi thi·ªát h·∫°i n·∫∑ng",
      "T·ª± ƒë·ªông gia h·∫°n v·ªõi ∆∞u ƒë√£i 10%",
    ],
  },
  {
    id: "coffee_ndvi_health",
    name: "B·∫£o Hi·ªÉm C√† Ph√™ - Gi√°m S√°t S·ª©c Kh·ªèe (NDVI)",
    category: "C√† Ph√™ (Coffee)",
    description:
      "B·∫£o v·ªá c√¢y c√† ph√™ b·∫±ng gi√°m s√°t ch·ªâ s·ªë NDVI. Ph√°t hi·ªán s·ªõm b·ªánh h·∫°i, s√¢u b·ªánh v√† stress nhi·ªát.",
    icon: "‚òï",
    difficulty: "Trung b√¨nh",
    recommended: false,
    basicData: {
      productName: "B·∫£o Hi·ªÉm C√† Ph√™ Gi√°m S√°t NDVI",
      productCode: "COFFEE_NDVI_2025",
      productDescription:
        "B·∫£o hi·ªÉm chuy√™n bi·ªát cho c√¢y c√† ph√™ s·ª≠ d·ª•ng ch·ªâ s·ªë NDVI ƒë·ªÉ gi√°m s√°t s·ª©c kh·ªèe c√¢y. Ph√°t hi·ªán s·ªõm t√¨nh tr·∫°ng stress do nhi·ªát ƒë·ªô, b·ªánh h·∫°i, ho·∫∑c thi·∫øu dinh d∆∞·ª°ng qua s·ª± suy gi·∫£m NDVI.",
      cropType: "coffee",
      coverageCurrency: "VND",
      coverageDurationDays: 180,
      isPerHectare: true,
      premiumBaseRate: 0.07,
      fixPremiumAmount: 2000000,
      maxPremiumPaymentProlong: 30,
      cancelPremiumRate: 0.75,
      isPayoutPerHectare: true,
      payoutBaseRate: 0.8,
      fixPayoutAmount: 8000000,
      payoutCap: 18000000,
      overThresholdMultiplier: 1.4,
      enrollmentStartDay: dayjs().subtract(10, "day"),
      enrollmentEndDay: dayjs().add(20, "day"),
      insuranceValidFrom: dayjs().add(5, "day"),
      insuranceValidTo: dayjs().add(185, "day"),
      autoRenewal: false,
      renewalDiscountRate: 0,
      basePolicyInvalidDate: null,
      status: "draft",
      documentValidationStatus: "pending",
      importantAdditionalInformation: "",
    },
    configurationData: {
      logicalOperator: "OR",
      monitorInterval: 1,
      monitorFrequencyUnit: "hour",
      growthStage: "Giai ƒëo·∫°n ra hoa v√† ph√°t tri·ªÉn qu·∫£",
      blackoutPeriods: {
        periods: [
          {
            start: "06-01",
            end: "06-30",
            reason: "Giai ƒëo·∫°n thu ho·∫°ch - kh√¥ng c·∫ßn b·∫£o hi·ªÉm",
          },
        ],
      },
      conditions: [
        {
          dataSourceKey: "ndvi",
          parameterName: "ndvi",
          thresholdOperator: "<",
          thresholdValue: 0.4,
          aggregationFunction: "avg",
          aggregationWindowDays: 14,
          dataQuality: "good",
          conditionOrder: 1,
        },
        {
          dataSourceKey: "ndvi",
          parameterName: "ndvi",
          thresholdOperator: "<=",
          thresholdValue: 0.5,
          aggregationFunction: "min",
          aggregationWindowDays: 14,
          dataQuality: "acceptable",
          conditionOrder: 2,
        },
      ],
    },
    requiredDataSources: [
      {
        parameterName: "ndvi",
        categoryName: "Satellite",
        tierName: "N√¢ng cao",
        usage: "Ph√°t hi·ªán s·ªõm stress v√† b·ªánh h·∫°i tr√™n c√¢y c√† ph√™",
      },
    ],
    estimatedCost: "450,000 ‚Ç´/th√°ng",
    benefits: [
      "B·∫£o v·ªá c√¢y c√† ph√™ kh·ªèi stress v√† b·ªánh h·∫°i",
      "Ph√π h·ª£p cho v√πng kh√≠ h·∫≠u bi·∫øn ƒë·ªïi",
      "C√¥ng ngh·ªá v·ªá tinh ƒë·ªô ph√¢n gi·∫£i cao",
      "Chi tr·∫£ linh ho·∫°t theo m·ª©c ƒë·ªô thi·ªát h·∫°i",
    ],
  },
];
